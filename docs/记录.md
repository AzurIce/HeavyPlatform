# 记录

由于项目的搭建过程中，会一点点地引入很多技术。

为了避免类似「这一大坨东西是怎么来的？？？」的情况，我会把搭建整个项目的过程简要记录一下。

## 一、Solid 项目创建

> 对应变动：[00fd805..82fa81f](https://github.com/AzurIce/HeavyPlatform/compare/00fd805...82fa81f)

没什么好说的：https://docs.solidjs.com/quick-start#for-typescript-projects

### 1. 入口

`index.html` 是一切的起点，vite 的大包也是“顺着” `index.html` 去“捋”出来一个个依赖，再构建在一起。

`index.html` 中有下面两个关键的东西：

```html
<div id="root"></div>

<script src="/src/index.tsx" type="module"></script>
```

- `id` 为 `root` 的 `div` 标签（会用于后续渲染）
- 加载 `/src/index.tsx` 的 `script` 标签

`src/index.tsx` 中则是对 Solid API 的调用：

```tsx
/* @refresh reload */
import { render } from 'solid-js/web';

import './index.css';
import App from './App';

const root = document.getElementById('root');

if (import.meta.env.DEV && !(root instanceof HTMLElement)) {
  throw new Error(
    'Root element not found. Did you forget to add it to your index.html? Or maybe the id attribute got misspelled?',
  );
}

render(() => <App />, root!); // 将 App 组件绘制到 root 元素中

```

> `root!` 是 ts 中对变量非空的断言。

### 2. 组件 与 jsx/tsx

将 HTML 标签作为一种 js/ts 值（被称作 JSX 元素）与 js/ts 混写的语法叫做 jsx/tsx，是对 js/ts 的愈发扩展。

在使用 jsx/tsx 的框架中，一个「组件」的概念很简单 —— 就是一个会返回 JSX 元素的函数。

Solid 中对 Component 类型的定义如下：

```ts
type Component<P = {}> = (props: P) => JSX.Element
```

## 二、引入 Solid Router

// TODO

## 三、引入 UnoCSS

// TODO